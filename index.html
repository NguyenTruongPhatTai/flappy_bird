<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Flappy Bird Web</title>
    <style>
      body {
        margin: 0;
        background-color: #87ceeb;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        overflow: hidden;
      }
      canvas {
        border: 1px solid black;
      }
    </style>
    <script src="https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js"></script>
  </head>
  <body>
    <canvas id="pygame-canvas" width="400" height="600"></canvas>
    <script>
      async function main() {
        let pyodide = await loadPyodide({
          indexURL: "https://cdn.jsdelivr.net/pyodide/v0.23.4/full/",
        });

        await pyodide.loadPackage("micropip");
        await pyodide.runPythonAsync(`
import micropip
await micropip.install("pygame-ce")
      `);

        let code = await (await fetch("main.py")).text();
        await pyodide.runPythonAsync(code);
      }
      main();
    </script>
  </body>
</html>
